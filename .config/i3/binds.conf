# Keybindings cfg
set $mainMod Mod4
set $terminal alacritty
# set $Alt Mod1
# Sets "Windows" key as main modifier

## Functionality
bindsym $mainMod+Shift+R reload

# Session
bindsym Control+Mod1+Delete exec ~/.config/i3/power.bash # i3 does not support keycodes like Hyprland
bindsym $mainMod+L exec i3lock -k --image ~/.local/share/lock.png
# bindsym $mainMod+L exec loginctl lock-session
bindsym $mainMod+C kill
bindsym $mainMod+Ctrl+M exit

# Quick launch
bindsym $mainMod+Q exec $terminal
bindsym $mainMod+R exec rofi -dpi 150 -show drun
# bindsym $mainMod+P exec kitty --title "screens_floating" nvim ~/.config/hypr/monitors.conf
# bindsym $mainMod+P exec nwg-displays # nwg-displays is specific to Hyprland/Wayland

# Screenshots
bindsym $mainMod+Shift+S exec ~/.config/i3/screenshot.bash simple
# bindsym $mainMod+Shift+S exec grim -t png -g "$(slurp -o -d)" - | swappy -f -
# bindsym , code:107, exec, ~/.config/hypr/scripts/screenshot.bash # i3 does not support keycodes like Hyprland

# Clipboard
bindsym $mainMod+V exec CM_LAUNCHER='rofi' clipmenu -dpi 150
bindsym $mainMod+E exec rofi -dpi 150 -modi emoji -show emoji
bindsym $mainMod+K exec rofi -dpi 150 -show calc -modi calc -no-show-match -no-sort

# Volume
bindsym XF86AudioMute exec pamixer -t; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121 # i3 does not support keycodes
bindsym XF86AudioLowerVolume exec pamixer -d 10 --set-limit 200 --allow-boost; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121
bindsym XF86AudioRaiseVolume exec pamixer -i 10 --set-limit 200 --allow-boost; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle # i3 does not support keycodes

# Brightness
bindsym XF86MonBrightnessDown exec brightnessctl s 10%-; exec notify-send -a "I3" "Brightness: $( echo "$(brightnessctl g)*100/504" | bc )% " -e -t 1000 -r 121
bindsym XF86MonBrightnessUp exec brightnessctl s +10%; exec notify-send -a "I3" "Brightness: $( echo "$(brightnessctl g)*100/504" | bc )% " -e -t 1000 -r 121
bindsym Ctrl+XF86MonBrightnessDown exec ddcutil setvcp 10 - 10; exec notify-send -a "I3" "External Brightness: -10" -e -t 1000 -r 122
bindsym Ctrl+XF86MonBrightnessUp exec ddcutil setvcp 10 + 10; exec notify-send -a "I3" "External Brightness: +10" -e -t 1000 -r 122

## Window operations

# Focus
bindsym $mainMod+Left focus left
bindsym $mainMod+Right focus right
bindsym $mainMod+Up focus up
bindsym $mainMod+Down focus down
bindsym $mainMod+W exec rofi -dpi 150 -show window

# Resize
bindsym $mainMod+Shift+Right resize grow width 20 px or 20 ppt
bindsym $mainMod+Shift+Left resize shrink width 20 px or 20 ppt
bindsym $mainMod+Shift+Up resize shrink height 20 px or 20 ppt
bindsym $mainMod+Shift+Down resize grow height 20 px or 20 ppt

# Move
bindsym $mainMod+Ctrl+Right move right
bindsym $mainMod+Ctrl+Left move left
bindsym $mainMod+Ctrl+Up move up
bindsym $mainMod+Ctrl+Down move down

# Additional to move
bindsym $mainMod+J split toggle

# Float/fullscreen
bindsym $mainMod+F floating toggle
bindsym $mainMod+Shift+F fullscreen toggle
# bindsym , code:95, fullscreen, # i3 does not support keycodes

# Move focused workspace to chosen monitor (max 4 monitors)
# bind = $mainMod CTRL, 1, movecurrentworkspacetomonitor, 0 # i3 does not have direct equivalent
# bind = $mainMod CTRL, 2, movecurrentworkspacetomonitor, 1
# bind = $mainMod CTRL, 3, movecurrentworkspacetomonitor, 2
# bind = $mainMod CTRL, 4, movecurrentworkspacetomonitor, 3

# Switch workspaces
bindsym $mainMod+1 workspace 1
bindsym $mainMod+2 workspace 2
bindsym $mainMod+3 workspace 3
bindsym $mainMod+4 workspace 4
bindsym $mainMod+5 workspace 5
bindsym $mainMod+6 workspace 6
bindsym $mainMod+7 workspace 7
bindsym $mainMod+8 workspace 8
bindsym $mainMod+9 workspace 9
bindsym $mainMod+0 workspace 10

# Move active window to a workspace
bindsym $mainMod+Shift+1 move container to workspace 1; workspace 1
bindsym $mainMod+Shift+2 move container to workspace 2; workspace 2
bindsym $mainMod+Shift+3 move container to workspace 3; workspace 3
bindsym $mainMod+Shift+4 move container to workspace 4; workspace 4
bindsym $mainMod+Shift+5 move container to workspace 5; workspace 5
bindsym $mainMod+Shift+6 move container to workspace 6; workspace 6
bindsym $mainMod+Shift+7 move container to workspace 7; workspace 7
bindsym $mainMod+Shift+8 move container to workspace 8; workspace 8
bindsym $mainMod+Shift+9 move container to workspace 9; workspace 9
bindsym $mainMod+Shift+0 move container to workspace 10; workspace 10

# Reload display configuration
# bindsym Ctrl+Mod1+P exec $HOME/.config/hypr/scripts/reload-displays.bash

# Example special workspace
# bind = $mainMod, U, togglespecialworkspace, magic # i3 does not have special workspaces
# bind = $mainMod SHIFT, U, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
# bind = $mainMod, mouse_down, workspace, e+1 # i3 does not support mouse scroll for workspaces
# bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
# bindm = $mainMod, mouse:272, movewindow # i3 does not support mouse bindings like Hyprland
# bindm = $mainMod, mouse:273, resizewindow

# Mouse control
# bind = $mainMod, M, submap, cursor # i3 does not support submaps like Hyprland

# bind = $mainMod, H, exec, ~/GitRepos/goodnight-mouse/builddir/goodnight_mouse -c ~/.config/goodnight_mouse/goodnight_mouse.cfg -o

bindsym $mainMod+S exec $HOME/.config/i3/session.bash save && exec notify-send -a "I3" "Workspace saved" -e -t 1000 -r 121
bindsym $mainMod+N exec $HOME/.config/i3/session.bash restore && exec notify-send -a "I3" "Workspace restored" -e -t 1000 -r 121

# set $i3_resurrect i3-resurrect
#
# # Save workspace mode.
# mode "save" {
#   bindsym 1 exec $i3_resurrect save -w 1
#   bindsym 2 exec $i3_resurrect save -w 2
#   bindsym 3 exec $i3_resurrect save -w 3
#   bindsym 4 exec $i3_resurrect save -w 4
#   bindsym 5 exec $i3_resurrect save -w 5
#   bindsym 6 exec $i3_resurrect save -w 6
#   bindsym 7 exec $i3_resurrect save -w 7
#   bindsym 8 exec $i3_resurrect save -w 8
#   bindsym 9 exec $i3_resurrect save -w 9
#   bindsym 0 exec $i3_resurrect save -w 0
#
#   # Back to normal: Enter, Escape, or s
#   bindsym Return mode "default"
#   bindsym Escape mode "default"
#   bindsym s mode "default"
#   bindsym $mainMod+s mode "default"
# }
#
# bindsym $mainMod+s mode "save"
#
# # Restore workspace mode.
# mode "restore" {
#   bindsym 1 exec $i3_resurrect restore -w 1
#   bindsym 2 exec $i3_resurrect restore -w 2
#   bindsym 3 exec $i3_resurrect restore -w 3
#   bindsym 4 exec $i3_resurrect restore -w 4
#   bindsym 5 exec $i3_resurrect restore -w 5
#   bindsym 6 exec $i3_resurrect restore -w 6
#   bindsym 7 exec $i3_resurrect restore -w 7
#   bindsym 8 exec $i3_resurrect restore -w 8
#   bindsym 9 exec $i3_resurrect restore -w 9
#   bindsym 0 exec $i3_resurrect restore -w 0
#
#   # Back to normal: Enter, Escape, or n
#   bindsym Return mode "default"
#   bindsym Escape mode "default"
#   bindsym n mode "default"
#   bindsym $mainMod+n mode "default"
# }
#
# bindsym $mainMod+n mode "restore"
bindsym $mainMod+I exec hints
