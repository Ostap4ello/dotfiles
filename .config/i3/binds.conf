# Keybindings cfg
set $modTrigger Control+A
set $terminal alacritty
# set $Alt Mod1

# Volume
bindsym XF86AudioMute exec pamixer -t; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121 # i3 does not support keycodes
bindsym XF86AudioLowerVolume exec pamixer -d 10 --set-limit 200 --allow-boost; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121
bindsym XF86AudioRaiseVolume exec pamixer -i 10 --set-limit 200 --allow-boost; exec notify-send -a "I3" "Volume: $(pamixer --get-volume-human)" -e -t 1000 -r 121
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle # i3 does not support keycodes

# Brightness
bindsym XF86MonBrightnessDown exec brightnessctl s 10%-; exec notify-send -a "I3" "Brightness: $( echo "$(brightnessctl g)*100/504" | bc )% " -e -t 1000 -r 121
bindsym XF86MonBrightnessUp exec brightnessctl s +10%; exec notify-send -a "I3" "Brightness: $( echo "$(brightnessctl g)*100/504" | bc )% " -e -t 1000 -r 121
bindsym Ctrl+XF86MonBrightnessDown exec ddcutil setvcp 10 - 10; exec notify-send -a "I3" "External Brightness: -10" -e -t 1000 -r 122
bindsym Ctrl+XF86MonBrightnessUp exec ddcutil setvcp 10 + 10; exec notify-send -a "I3" "External Brightness: +10" -e -t 1000 -r 122

bindsym $modTrigger mode "mod"
mode "mod" {

	## Functionality
	bindsym Shift+R reload

	# Session
	bindsym Delete exec ~/.config/i3/power.bash # i3 does not support keycodes like Hyprland
	bindsym L exec i3lock -k --image ~/.local/share/lock.png
	# bindsym L exec loginctl lock-session
	bindsym C kill
	bindsym Ctrl+M exit

	# Quick launch
	bindsym Q exec $terminal
	bindsym R exec rofi -dpi 150 -show drun
	# bindsym P exec kitty --title "screens_floating" nvim ~/.config/hypr/monitors.conf
	# bindsym P exec nwg-displays # nwg-displays is specific to Hyprland/Wayland

	# Screenshots
	bindsym Shift+S exec ~/.config/i3/screenshot.bash simple
	# bindsym Shift+S exec grim -t png -g "$(slurp -o -d)" - | swappy -f -
	# bindsym , code:107, exec, ~/.config/hypr/scripts/screenshot.bash # i3 does not support keycodes like Hyprland

	# Clipboard
	bindsym V exec CM_LAUNCHER='rofi' clipmenu -dpi 150
	bindsym E exec rofi -dpi 150 -modi emoji -show emoji
	bindsym K exec rofi -dpi 150 -show calc -modi calc -no-show-match -no-sort

	## Window operations

	# Focus
	bindsym Left focus left
	bindsym Right focus right
	bindsym Up focus up
	bindsym Down focus down
	bindsym W exec rofi -dpi 150 -show window

	# Resize
	bindsym Shift+Right resize grow width 20 px or 20 ppt
	bindsym Shift+Left resize shrink width 20 px or 20 ppt
	bindsym Shift+Up resize shrink height 20 px or 20 ppt
	bindsym Shift+Down resize grow height 20 px or 20 ppt

	# Move
	bindsym Ctrl+Right move right
	bindsym Ctrl+Left move left
	bindsym Ctrl+Up move up
	bindsym Ctrl+Down move down

	# Additional to move
	bindsym J split toggle

	# Float/fullscreen
	bindsym F floating toggle
	bindsym Shift+F fullscreen toggle
	# bindsym , code:95, fullscreen, # i3 does not support keycodes

	# Move focused workspace to chosen monitor (max 4 monitors)
	# bind = $mainMod CTRL, 1, movecurrentworkspacetomonitor, 0 # i3 does not have direct equivalent
	# bind = $mainMod CTRL, 2, movecurrentworkspacetomonitor, 1
	# bind = $mainMod CTRL, 3, movecurrentworkspacetomonitor, 2
	# bind = $mainMod CTRL, 4, movecurrentworkspacetomonitor, 3

	# Switch workspaces
	bindsym 1 workspace 1
	bindsym 2 workspace 2
	bindsym 3 workspace 3
	bindsym 4 workspace 4
	bindsym 5 workspace 5
	bindsym 6 workspace 6
	bindsym 7 workspace 7
	bindsym 8 workspace 8
	bindsym 9 workspace 9
	bindsym 0 workspace 10

	# Move active window to a workspace
	bindsym Shift+1 move container to workspace 1; workspace 1
	bindsym Shift+2 move container to workspace 2; workspace 2
	bindsym Shift+3 move container to workspace 3; workspace 3
	bindsym Shift+4 move container to workspace 4; workspace 4
	bindsym Shift+5 move container to workspace 5; workspace 5
	bindsym Shift+6 move container to workspace 6; workspace 6
	bindsym Shift+7 move container to workspace 7; workspace 7
	bindsym Shift+8 move container to workspace 8; workspace 8
	bindsym Shift+9 move container to workspace 9; workspace 9
	bindsym Shift+0 move container to workspace 10; workspace 10

	# Reload display configuration
	# bindsym Ctrl+Mod1+P exec $HOME/.config/hypr/scripts/reload-displays.bash

	# Example special workspace
	# bind = $mainMod, U, togglespecialworkspace, magic # i3 does not have special workspaces
	# bind = $mainMod SHIFT, U, movetoworkspace, special:magic

	# Scroll through existing workspaces with mainMod + scroll
	# bind = $mainMod, mouse_down, workspace, e+1 # i3 does not support mouse scroll for workspaces
	# bind = $mainMod, mouse_up, workspace, e-1

	# Move/resize windows with mainMod + LMB/RMB and dragging
	# bindm = $mainMod, mouse:272, movewindow # i3 does not support mouse bindings like Hyprland
	# bindm = $mainMod, mouse:273, resizewindow

	# Mouse control
	# bind = $mainMod, M, submap, cursor # i3 does not support submaps like Hyprland

	# bind = $mainMod, H, exec, ~/GitRepos/goodnight-mouse/builddir/goodnight_mouse -c ~/.config/goodnight_mouse/goodnight_mouse.cfg -o

	bindsym S exec $HOME/.config/i3/session.bash save && exec notify-send -a "I3" "Workspace saved" -e -t 1000 -r 121
	bindsym N exec $HOME/.config/i3/session.bash restore && exec notify-send -a "I3" "Workspace restored" -e -t 1000 -r 121

	# set $i3_resurrect i3-resurrect
	#
	# # Save workspace mode.
	# mode "save" {
	#   bindsym 1 exec $i3_resurrect save -w 1
	#   bindsym 2 exec $i3_resurrect save -w 2
	#   bindsym 3 exec $i3_resurrect save -w 3
	#   bindsym 4 exec $i3_resurrect save -w 4
	#   bindsym 5 exec $i3_resurrect save -w 5
	#   bindsym 6 exec $i3_resurrect save -w 6
	#   bindsym 7 exec $i3_resurrect save -w 7
	#   bindsym 8 exec $i3_resurrect save -w 8
	#   bindsym 9 exec $i3_resurrect save -w 9
	#   bindsym 0 exec $i3_resurrect save -w 0
	#
	#   # Back to normal: Enter, Escape, or s
	#   bindsym Return mode "default"
	#   bindsym Escape mode "default"
	#   bindsym s mode "default"
	#   bindsym s mode "default"
	# }
	#
	# bindsym s mode "save"
	#
	# # Restore workspace mode.
	# mode "restore" {
	#   bindsym 1 exec $i3_resurrect restore -w 1
	#   bindsym 2 exec $i3_resurrect restore -w 2
	#   bindsym 3 exec $i3_resurrect restore -w 3
	#   bindsym 4 exec $i3_resurrect restore -w 4
	#   bindsym 5 exec $i3_resurrect restore -w 5
	#   bindsym 6 exec $i3_resurrect restore -w 6
	#   bindsym 7 exec $i3_resurrect restore -w 7
	#   bindsym 8 exec $i3_resurrect restore -w 8
	#   bindsym 9 exec $i3_resurrect restore -w 9
	#   bindsym 0 exec $i3_resurrect restore -w 0
	#
	#   # Back to normal: Enter, Escape, or n
	#   bindsym Return mode "default"
	#   bindsym Escape mode "default"
	#   bindsym n mode "default"
	#   bindsym n mode "default"
	# }
	#
	# bindsym n mode "restore"

	bindsym I exec hints

	bindsym Enter mode "default"
	bindsym $modTrigger mode "default"
}
